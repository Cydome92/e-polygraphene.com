!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=25)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}},function(e,t,n){var o=n(4);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}},function(e,t,n){var o=n(17),l=n(18),r=n(5),a=n(19);e.exports=function(e,t){return o(e)||l(e,t)||r(e,t)||a()}},,function(e,t){!function(){e.exports=this.wp.blocks}()},function(e){e.exports=JSON.parse('{"a":{"width":{"type":"number","default":400},"waitTime":{"type":"number","default":1},"offset":{"type":"number","default":20},"openBehaviour":{"type":"string","default":"load"},"showCloseButton":{"type":"boolean","default":true},"closeButtonAlignment":{"type":"string","default":"right"},"closeButtonColor":{"type":"string","default":"#000000"},"overlayColor":{"type":"string","default":"#000000"},"overlayOpacity":{"type":"number","default":75},"closeButtonSize":{"type":"number","default":20},"borderRadius":{"type":"number","default":3},"closeOnClickOutside":{"type":"boolean","default":true},"closeOnAnchorClick":{"type":"boolean","default":false},"closeAnchor":{"type":"string"},"anchor":{"type":"string","default":""},"backgroundColor":{"type":"string"},"gradientBackground":{"type":"string"},"dismissForVisitors":{"type":"boolean","default":true},"dismissPeriod":{"type":"number","default":20},"uuid":{"type":"string","default":null}}}')},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},,,,,,function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,l=!1,r=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw r}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){},,,,,function(e,t,n){"use strict";n.r(t);var o=n(2),l=n(8),r=n(9),a=n(10),c=n.n(a),i=n(6),u=n.n(i),s=n(0),b=n(1),p=n(3);let m=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let o=63&n[e];t+=o<36?o.toString(36):o<62?(o-26).toString(36).toUpperCase():o<63?"_":"-"}return t};var d=function(e){var t={fontSize:e.size,color:e.color,lineHeight:1};return Object(s.createElement)("span",{style:t},"âœ•")},O=(n(20),function(e){var t=e.attributes,n=e.setAttributes,l=e.showPreview,r=t.width,a=t.backgroundColor,c=t.gradientBackground,i=t.closeButtonColor,u=t.closeButtonSize,m=t.borderRadius,d=t.overlayColor,O=t.overlayOpacity;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(b.PanelBody,{title:Object(o.__)("Modal Appearance","abs-popup")},Object(s.createElement)(b.PanelRow,null,Object(s.createElement)(b.RangeControl,{value:r,label:Object(o.__)("Popup Minimum Width","abs-popup"),onChange:function(e){l(),n({width:e})},min:0,max:1e3})),Object(s.createElement)(b.PanelRow,null,Object(s.createElement)(b.RangeControl,{value:m,label:Object(o.__)("Popup Border Radius","abs-popup"),onChange:function(e){l(),n({borderRadius:e})},min:0,max:100})),Object(s.createElement)(b.PanelRow,null,Object(s.createElement)(p.__experimentalColorGradientControl,{label:Object(o.__)("Background Color","abs-popup"),colorValue:a,gradientValue:c,onGradientChange:function(e){l(),n({gradientBackground:e||!1})},onColorChange:function(e){l(),n({backgroundColor:e||!1})}})),Object(s.createElement)("hr",null),Object(s.createElement)(b.PanelRow,null,Object(s.createElement)(b.RangeControl,{value:u,label:Object(o.__)("Close Icon Size","abs-popup"),onChange:function(e){l(),n({closeButtonSize:e})},min:0,max:60})),Object(s.createElement)(b.PanelRow,null,Object(s.createElement)(p.__experimentalColorGradientControl,{label:Object(o.__)("Close Button Color","abs-popup"),colorValue:i,onColorChange:function(e){l(),n({closeButtonColor:e||"#000000"})}})),Object(s.createElement)("hr",null),Object(s.createElement)(b.PanelRow,null,Object(s.createElement)(p.__experimentalColorGradientControl,{label:Object(o.__)("Overlay Color","abs-popup"),colorValue:d,onColorChange:function(e){l(),n({overlayColor:e||"#000000"})}})),Object(s.createElement)(b.PanelRow,null,Object(s.createElement)(b.RangeControl,{value:O,label:Object(o.__)("Overlay Opacity","abs-popup"),onChange:function(e){l(),n({overlayOpacity:e})},min:0,max:100}))))}),f=function(e){var t=e.attributes,n=e.setAttributes,l=t.openBehaviour,r=t.anchor,a=t.waitTime,c=t.offset,i=[{label:Object(o.__)("Timer","abs-popup"),value:"load"},{label:Object(o.__)("On Anchor Click","abs-popup"),value:"anchor"},{label:Object(o.__)("On Scroll","abs-popup"),value:"scroll"},{label:Object(o.__)("On Exit Intent","abs-popup"),value:"exit"}];return Object(s.createElement)(b.PanelBody,{initialOpen:!1,title:Object(o.__)("Open Behaviour","abs-popup")},Object(s.createElement)(b.PanelRow,null,Object(s.createElement)(b.RadioControl,{onChange:function(e){n({openBehaviour:e})},selected:l,options:i})),Object(s.createElement)(b.PanelRow,null,"anchor"===l&&Object(s.createElement)(b.TextControl,{value:r,label:Object(o.__)("Anchor","abs-popup"),help:Object(s.createElement)("small",null,Object(o.__)("You can add anchors to button blocks. Using the same anchor here will open the modal when you click the respective button.","abs-popup")),onChange:function(e){n({anchor:e})}}),"scroll"===l&&Object(s.createElement)(b.RangeControl,{label:Object(o.__)("Scroll Distance in Percent","abs-popup"),help:Object(s.createElement)("small",null,Object(o.__)("Show the modal when this percentage of the page has been scrolled.")),beforeIcon:"image-flip-vertical",value:c,onChange:function(e){n({offset:e})},min:0,max:100}),"load"===l&&Object(s.createElement)(b.RangeControl,{label:Object(o.__)("Wait Time in Seconds","abs-popup"),help:Object(s.createElement)("small",null,Object(o.__)("How much time to wait before showing the popup.")),beforeIcon:"clock",value:a,onChange:function(e){n({waitTime:e})},min:0,max:100}),"exit"===l&&Object(s.createElement)("small",null,Object(o.__)("Shows the modal when the user moves the mouse outside of the top of the window","abs-popup"))))},h=n(11),j=n.n(h),C=function(e){var t=e.attributes,n=e.setAttributes,l=t.showCloseButton,r=(t.closeButtonAlignment,t.closeOnClickOutside),a=t.closeOnAnchorClick,c=t.closeAnchor,i=t.dismissForVisitors,u=t.dismissPeriod,p=function(e,t){n(j()({},e,t))};return Object(s.createElement)(b.PanelBody,{initialOpen:!1,title:Object(o.__)("Close Behaviour","abs-popup")},Object(s.createElement)(b.PanelRow,null,Object(s.createElement)(b.CheckboxControl,{label:Object(o.__)("Show Close Button","abs-popup"),checked:l,onChange:function(e){return p("showCloseButton",e)}})),Object(s.createElement)(b.PanelRow,null,Object(s.createElement)(b.CheckboxControl,{label:Object(o.__)("Close On Click Outside","abs-popup"),checked:r,onChange:function(e){return p("closeOnClickOutside",e)}})),Object(s.createElement)(b.PanelRow,null,Object(s.createElement)(b.CheckboxControl,{label:Object(o.__)("Close On Anchor Click","abs-popup"),checked:a,onChange:function(e){return p("closeOnAnchorClick",e)}})),a&&Object(s.createElement)(b.PanelRow,null,Object(s.createElement)(b.TextControl,{value:c,label:Object(o.__)("Anchor","abs-popup"),help:Object(s.createElement)("small",null,Object(o.__)("You can add anchors to button blocks. Using the same anchor here will close the modal when you click the respective button.","abs-popup")),onChange:function(e){return p("closeAnchor",e)}})),Object(s.createElement)(b.PanelRow,null,Object(s.createElement)(b.CheckboxControl,{label:Object(o.__)("Dismiss for Recurrent Visitors","abs-popup"),checked:i,onChange:function(e){return p("dismissForVisitors",e)}})),i&&Object(s.createElement)(b.PanelRow,null,Object(s.createElement)(b.RangeControl,{value:u,label:Object(o.__)("Number of Days Until the Notice is Shown again","abs-popup"),onChange:function(e){n({dismissPeriod:e})},min:0,max:100})))},y=function(e){return Object(s.createElement)(p.InspectorControls,null,Object(s.createElement)(O,e),Object(s.createElement)(f,e),Object(s.createElement)(C,e))},g=function(){return Object(s.createElement)("svg",{viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg"},Object(s.createElement)("path",{fill:"#FF0066",d:"M28,-40.3C36.5,-32.3,43.7,-24.4,51.6,-13.6C59.5,-2.7,68.1,11.1,67,24.1C66,37.2,55.4,49.5,42.7,51.6C29.9,53.7,15,45.6,-0.3,46.1C-15.6,46.6,-31.2,55.5,-41.2,52.5C-51.1,49.4,-55.3,34.4,-55.4,21.1C-55.6,7.7,-51.6,-3.9,-48.5,-16.4C-45.3,-29,-43,-42.5,-35.1,-50.7C-27.1,-58.9,-13.6,-61.8,-1.9,-59.2C9.7,-56.5,19.5,-48.3,28,-40.3Z",transform:"translate(100 100)"}))},v=function(e){var t=Object(s.useState)(!1),n=u()(t,2),l=n[0],r=n[1],a=Object(s.useState)(null),i=u()(a,2),O=i[0],f=i[1],h=e.attributes,j=e.setAttributes,C=h.width,v=h.backgroundColor,_=h.gradientBackground,E=h.showCloseButton,w=h.closeButtonColor,k=h.closeButtonSize,x=h.borderRadius,B=h.overlayColor,P=h.overlayOpacity,R=h.uuid,S=h.dismissForVisitors;null===R&&j({uuid:m()});var A={minWidth:C,borderRadius:x},N={};v&&(A.backgroundColor=v),_&&(A.background=_),w&&(N.color=w);var T=function(e){e.preventDefault(),r(!l)};return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{className:"abs-popup"},Object(s.createElement)("div",{className:"popup-preview"},Object(s.createElement)(b.Button,{isPrimary:!0,onClick:T},Object(s.createElement)(b.Icon,{icon:g}),Object(o.__)("Show Popup","abs-popup")),S&&Object(s.createElement)(b.Tooltip,{text:Object(o.__)("The notice will show again for users who have dismissed it.","abs-popup")},Object(s.createElement)(b.Button,{isSecondary:!0,onClick:function(){j({uuid:m()}),f(Object(o.__)("Invalidated Cache. Please save the post for the changes to take effect.","abs-popup")),setTimeout((function(){f(null)}),3e3)}},Object(s.createElement)(b.Icon,{icon:"update"}),Object(o.__)("Invalidate Cache","abs-popup"))),O&&Object(s.createElement)(b.Notice,{className:"notice",status:"success",icon:"yes",isDismissible:!1},O)),l&&Object(s.createElement)("div",{className:"abs-modal-wrap"},Object(s.createElement)("div",{style:{backgroundColor:B,opacity:P/100},role:"presentation",className:"overlay",onClick:T}),Object(s.createElement)("div",{className:"modal-content",style:A},E&&Object(s.createElement)("div",{className:"modal-header"},Object(s.createElement)("button",{className:"close",style:N,onClick:T},Object(s.createElement)(d,{color:w,size:k}))),Object(s.createElement)("div",{className:"modal-body"},Object(s.createElement)(p.InnerBlocks,null))))),Object(s.createElement)(y,c()({},e,{showPreview:function(){l||r(!0)}})))},_=function(e){var t=e.attributes,n=t.width,o=t.anchor,l=t.waitTime,r=t.offset,a=t.openBehaviour,c=t.backgroundColor,i=t.gradientBackground,u=t.closeButtonColor,b=t.closeButtonSize,m=t.borderRadius,O=t.overlayColor,f=t.overlayOpacity,h=t.closeAnchor,j=t.closeOnClickOutside,C=t.closeOnAnchorClick,y=t.dismissForVisitors,g=t.dismissPeriod,v=t.uuid,_={minWidth:n,borderRadius:m};return c&&(_.backgroundColor=c),i&&(_.background=i),Object(s.createElement)("div",{className:"abs-popup front","data-open":a,"data-anchor":"anchor"===a?o:"","data-anchorclose":C?h:"","data-time":"load"===a?l:"","data-dismiss":y?g:"","data-offset":"scroll"===a?r:"","data-outside":j,"data-created":v},Object(s.createElement)("div",{className:"abs-modal-wrap"},Object(s.createElement)("div",{role:"presentation",className:"overlay",style:{backgroundColor:O,opacity:f/100}}),Object(s.createElement)("div",{className:"modal-content",style:_},Object(s.createElement)("div",{className:"modal-header"},Object(s.createElement)("button",{className:"close"},Object(s.createElement)(d,{color:u,size:b}))),Object(s.createElement)("div",{className:"modal-body"},Object(s.createElement)(p.InnerBlocks.Content,null)))))};Object(l.registerBlockType)("abs/popup-block",{title:Object(o.__)("Popup Block","abs-popup"),description:Object(o.__)("A popup block.","abs-popup"),category:"design",icon:g,attributes:r.a,edit:v,save:_})}]);